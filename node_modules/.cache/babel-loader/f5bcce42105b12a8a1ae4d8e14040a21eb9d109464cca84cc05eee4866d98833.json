{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{baseUrl}from\"../API/constants\";import requests from\"../API/requests\";import\"./App.css\";import Banner from\"./Banner\";import Nav from\"./Nav\";import Row from\"./Row\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[personalizeUrl,setPersonalizeUrl]=useState(baseUrl+\"/all\");const[myRating,setMyRating]=useState([]);const addRating=rating=>{myRating.push(rating);setMyRating(myRating);const user_based_param=myRating.join(\"&params=\");const url=\"\".concat(baseUrl,\"/user-based/?params=\").concat(user_based_param);setPersonalizeUrl(url);};useEffect(()=>{if(myRating.length>0){const user_based_param=myRating.join(\"&params=\");const url=\"\".concat(baseUrl,\"/user-based/?params=\").concat(user_based_param);setPersonalizeUrl(url);}console.log(personalizeUrl);});return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(Banner,{}),/*#__PURE__*/_jsx(Row,{title:\"Recommend For You\",id:\"RF\",fetchUrl:personalizeUrl,addRating:addRating},personalizeUrl),/*#__PURE__*/_jsx(Row,{title:\"DQ's Pick\",id:\"DP\",fetchUrl:requests.fetchDQsPick,addRating:addRating}),/*#__PURE__*/_jsx(Row,{title:\"Action Movies\",id:\"AM\",fetchUrl:requests.fetchActionMovies,addRating:addRating}),/*#__PURE__*/_jsx(Row,{title:\"Comedy Movies\",id:\"CM\",fetchUrl:requests.fetchComedyMovies,addRating:addRating}),/*#__PURE__*/_jsx(Row,{title:\"Horror Movies\",id:\"HM\",fetchUrl:requests.fetchHorrorMovies,addRating:addRating}),/*#__PURE__*/_jsx(Row,{title:\"Romance  Movies\",id:\"RM\",fetchUrl:requests.fetchRomanceMovies,addRating:addRating})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","baseUrl","requests","Banner","Nav","Row","jsx","_jsx","jsxs","_jsxs","App","personalizeUrl","setPersonalizeUrl","myRating","setMyRating","addRating","rating","push","user_based_param","join","url","concat","length","console","log","className","children","title","id","fetchUrl","fetchDQsPick","fetchActionMovies","fetchComedyMovies","fetchHorrorMovies","fetchRomanceMovies"],"sources":["/Users/sungwook.lee/Desktop/fullstack-dqflex/src/components/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { baseUrl } from \"../API/constants\";\nimport requests from \"../API/requests\";\nimport \"./App.css\";\nimport Banner from \"./Banner\";\nimport Nav from \"./Nav\";\nimport Row from \"./Row\";\n\nconst App = () => {\n  const [personalizeUrl, setPersonalizeUrl] = useState(baseUrl + \"/all\");\n  const [myRating, setMyRating] = useState([]);\n\n  const addRating = (rating) => {\n    myRating.push(rating);\n    setMyRating(myRating);\n    const user_based_param = myRating.join(\"&params=\");\n    const url = `${baseUrl}/user-based/?params=${user_based_param}`;\n    setPersonalizeUrl(url);\n  };\n\n  useEffect(() => {\n    if (myRating.length > 0) {\n      const user_based_param = myRating.join(\"&params=\");\n      const url = `${baseUrl}/user-based/?params=${user_based_param}`;\n      setPersonalizeUrl(url);\n    }\n    console.log(personalizeUrl);\n  });\n\n  return (\n    <div className=\"app\">\n      {/**NAV */}\n      <Nav />\n      {/*BANNER*/}\n      <Banner />\n\n      <Row\n        title=\"Recommend For You\"\n        id=\"RF\"\n        fetchUrl={personalizeUrl}\n        addRating={addRating}\n        key={personalizeUrl}\n      />\n\n      <Row\n        title=\"DQ's Pick\"\n        id=\"DP\"\n        fetchUrl={requests.fetchDQsPick}\n        addRating={addRating}\n      />\n      <Row\n        title=\"Action Movies\"\n        id=\"AM\"\n        fetchUrl={requests.fetchActionMovies}\n        addRating={addRating}\n      />\n      <Row\n        title=\"Comedy Movies\"\n        id=\"CM\"\n        fetchUrl={requests.fetchComedyMovies}\n        addRating={addRating}\n      />\n      <Row\n        title=\"Horror Movies\"\n        id=\"HM\"\n        fetchUrl={requests.fetchHorrorMovies}\n        addRating={addRating}\n      />\n      <Row\n        title=\"Romance  Movies\"\n        id=\"RM\"\n        fetchUrl={requests.fetchRomanceMovies}\n        addRating={addRating}\n      />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}