{"ast":null,"code":"import ArrowBackIosIcon from\"@material-ui/icons/ArrowBackIos\";import ArrowForwardIosIcon from\"@material-ui/icons/ArrowForwardIos\";import React,{useEffect,useState}from\"react\";import axios from\"../API/axios\";import MovieModal from\"./MovieModal\";import\"./Row.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Row=_ref=>{let{title,fetchUrl,id,addRating}=_ref;const base_url=\"https://image.tmdb.org/t/p/original/\";const[movies,setMovies]=useState([]);const[modalVisibility,setModalVisibility]=useState(false);const[movieSelected,setMovieSelection]=useState({});//A snippet of code which runs based on a specific condition/variable\nuseEffect(()=>{console.log(id,fetchUrl);//if [], run once when the row loads, and dont run again\nasync function fetchData(){//Dont move until we get the API answer\nconst request=await axios.get(fetchUrl,{headers:{\"Access-Control-Allow-Origin\":\"*\"}});setMovies(request.data.result);return request;}fetchData();},[fetchUrl]);const handleClick=movie=>{setModalVisibility(true);setMovieSelection(movie);};return/*#__PURE__*/_jsxs(\"section\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"slider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"slider__arrow-left\",children:/*#__PURE__*/_jsx(\"span\",{className:\"arrow\",onClick:()=>{document.getElementById(id).scrollLeft-=window.innerWidth-80;},children:/*#__PURE__*/_jsx(ArrowBackIosIcon,{})})}),/*#__PURE__*/_jsx(\"div\",{id:id,className:\"row__posters\",children:movies.map((movie,idx)=>/*#__PURE__*/_jsx(\"img\",{onClick:()=>handleClick(movie),className:\"row__poster row__posterLarge\",src:\"\".concat(base_url).concat(movie.poster_path),loading:\"lazy\",alt:movie.title},idx))}),/*#__PURE__*/_jsx(\"div\",{className:\"slider__arrow-right\",children:/*#__PURE__*/_jsx(\"span\",{className:\"arrow\",onClick:()=>{document.getElementById(id).scrollLeft+=window.innerWidth-80;},children:/*#__PURE__*/_jsx(ArrowForwardIosIcon,{})})})]}),modalVisibility&&/*#__PURE__*/_jsx(MovieModal,{...movieSelected,setModalVisibility:setModalVisibility,addRating:addRating})]});};export default Row;","map":{"version":3,"names":["ArrowBackIosIcon","ArrowForwardIosIcon","React","useEffect","useState","axios","MovieModal","jsx","_jsx","jsxs","_jsxs","Row","_ref","title","fetchUrl","id","addRating","base_url","movies","setMovies","modalVisibility","setModalVisibility","movieSelected","setMovieSelection","console","log","fetchData","request","get","headers","data","result","handleClick","movie","className","children","onClick","document","getElementById","scrollLeft","window","innerWidth","map","idx","src","concat","poster_path","loading","alt"],"sources":["/Users/sungwook.lee/Desktop/fullstack-dqflex/src/components/Row.js"],"sourcesContent":["import ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"../API/axios\";\nimport MovieModal from \"./MovieModal\";\nimport \"./Row.css\";\n\nconst Row = ({ title, fetchUrl, id, addRating }) => {\n  const base_url = \"https://image.tmdb.org/t/p/original/\";\n  const [movies, setMovies] = useState([]);\n  const [modalVisibility, setModalVisibility] = useState(false);\n  const [movieSelected, setMovieSelection] = useState({});\n\n  //A snippet of code which runs based on a specific condition/variable\n  useEffect(() => {\n    console.log(id, fetchUrl);\n    //if [], run once when the row loads, and dont run again\n\n    async function fetchData() {\n      //Dont move until we get the API answer\n      const request = await axios.get(fetchUrl, {\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n        },\n      });\n      setMovies(request.data.result);\n      return request;\n    }\n\n    fetchData();\n  }, [fetchUrl]);\n\n  const handleClick = (movie) => {\n    setModalVisibility(true);\n    setMovieSelection(movie);\n  };\n  return (\n    <section className=\"row\">\n      {/** TITLE */}\n      <h2>{title}</h2>\n      <div className=\"slider\">\n        <div className=\"slider__arrow-left\">\n          <span\n            className=\"arrow\"\n            onClick={() => {\n              document.getElementById(id).scrollLeft -= window.innerWidth - 80;\n            }}\n          >\n            <ArrowBackIosIcon />\n          </span>\n        </div>\n        <div id={id} className=\"row__posters\">\n          {/**SEVERAL ROW__POSTER */}\n          {movies.map((movie, idx) => (\n            <img\n              key={idx}\n              onClick={() => handleClick(movie)}\n              className={`row__poster row__posterLarge`}\n              src={`${base_url}${movie.poster_path}`}\n              loading=\"lazy\"\n              alt={movie.title}\n            />\n          ))}\n        </div>\n        <div className=\"slider__arrow-right\">\n          <span\n            className=\"arrow\"\n            onClick={() => {\n              document.getElementById(id).scrollLeft += window.innerWidth - 80;\n            }}\n          >\n            <ArrowForwardIosIcon />\n          </span>\n        </div>\n      </div>\n      {modalVisibility && (\n        <MovieModal\n          {...movieSelected}\n          setModalVisibility={setModalVisibility}\n          addRating={addRating}\n        />\n      )}\n    </section>\n  );\n};\n\nexport default Row;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}